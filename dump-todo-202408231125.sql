--
-- PostgreSQL database dump
--

-- Dumped from database version 16.2
-- Dumped by pg_dump version 16.2

-- Started on 2024-08-23 11:25:21

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: pg_database_owner
--

CREATE SCHEMA public;


ALTER SCHEMA public OWNER TO pg_database_owner;

--
-- TOC entry 4771 (class 0 OID 0)
-- Dependencies: 4
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: pg_database_owner
--

COMMENT ON SCHEMA public IS 'standard public schema';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 216 (class 1259 OID 33413)
-- Name: roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.roles (
    id integer NOT NULL,
    name character varying(255)
);


ALTER TABLE public.roles OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 33412)
-- Name: roles_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.roles ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.roles_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 33419)
-- Name: todo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.todo (
    id bigint NOT NULL,
    deadline date,
    description character varying(255),
    title character varying(255),
    user_id bigint
);


ALTER TABLE public.todo OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 33418)
-- Name: todo_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.todo ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.todo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 33427)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    email character varying(255),
    password character varying(255),
    username character varying(255)
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 33426)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 33434)
-- Name: users_roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users_roles (
    user_id bigint NOT NULL,
    role_id integer NOT NULL
);


ALTER TABLE public.users_roles OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 33437)
-- Name: users_todos; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users_todos (
    user_id bigint NOT NULL,
    todos_id bigint NOT NULL
);


ALTER TABLE public.users_todos OWNER TO postgres;

--
-- TOC entry 4759 (class 0 OID 33413)
-- Dependencies: 216
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.roles (id, name) FROM stdin;
1	ROLE_USER
2	ROLE_ADMIN
\.


--
-- TOC entry 4761 (class 0 OID 33419)
-- Dependencies: 218
-- Data for Name: todo; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.todo (id, deadline, description, title, user_id) FROM stdin;
1	2024-08-23	test description4	test title4	\N
2	2024-08-23	test description4	test title4	\N
3	2024-08-23	test description1	test title1	\N
4	2024-08-23	test description1	test title1	\N
6	2024-08-23	test description1	test title1	\N
8	2024-08-23	test description11	test title11	\N
5	2024-08-23	test description1	test title25	1
9	2024-08-25	Ringmaster added to game	Dota 2 update	4
10	2024-08-25	Ringmaster added to game	Dota 2 update	4
11	2024-09-05	Learn Kotlin sintax and constructions	Learn Kotlin	4
12	2024-09-05	Learn Kotlin sintax and constructions	Learn Kotlin	4
13	2025-02-01	About something	Something	4
14	2025-02-01	About something	Something	4
15	2024-12-11	About ETC	ETC	4
16	2024-12-11	About ETC	ETC	4
17	2024-12-17	do class, do class if	do	4
18	2024-12-17	do class, do class if	do	4
\.


--
-- TOC entry 4763 (class 0 OID 33427)
-- Dependencies: 220
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (id, email, password, username) FROM stdin;
1	test@test.com	$2a$10$YN3i4RAhDvM.2s3HszjNX.2NYkL/tYf.hJeTSdvcJogJPYdlHq8rW	test
2	test2@test.com	$2a$10$yf0mTcu0g4LmouaGvQWGO.jkKQUq0F41rlUaiJi3nUS8mAs8MDCkq	test2
3	ignat@test.com	$2a$10$M90ITF9sOzOaa4ltYdt1Ae4bgCqCHmTRNRo1NnaRWssvjIv9rJn8a	Ignat
4	dv@test.com	$2a$10$NPSU09LSIyi3Ic0AklsyWOPu1Vag23vV/hVzOcy9Pyg2o1aWfjao2	Alice
\.


--
-- TOC entry 4764 (class 0 OID 33434)
-- Dependencies: 221
-- Data for Name: users_roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users_roles (user_id, role_id) FROM stdin;
1	1
2	1
3	1
4	1
\.


--
-- TOC entry 4765 (class 0 OID 33437)
-- Dependencies: 222
-- Data for Name: users_todos; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users_todos (user_id, todos_id) FROM stdin;
1	1
1	3
1	5
4	9
4	11
4	13
4	15
4	17
\.


--
-- TOC entry 4772 (class 0 OID 0)
-- Dependencies: 215
-- Name: roles_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.roles_id_seq', 2, true);


--
-- TOC entry 4773 (class 0 OID 0)
-- Dependencies: 217
-- Name: todo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.todo_id_seq', 18, true);


--
-- TOC entry 4774 (class 0 OID 0)
-- Dependencies: 219
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 4, true);


--
-- TOC entry 4602 (class 2606 OID 33417)
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (id);


--
-- TOC entry 4604 (class 2606 OID 33425)
-- Name: todo todo_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.todo
    ADD CONSTRAINT todo_pkey PRIMARY KEY (id);


--
-- TOC entry 4608 (class 2606 OID 33443)
-- Name: users_todos uk_eviyljjeqcv2ku87s7if7pdr5; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_todos
    ADD CONSTRAINT uk_eviyljjeqcv2ku87s7if7pdr5 UNIQUE (todos_id);


--
-- TOC entry 4606 (class 2606 OID 33433)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 4610 (class 2606 OID 33441)
-- Name: users_todos users_todos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_todos
    ADD CONSTRAINT users_todos_pkey PRIMARY KEY (user_id, todos_id);


--
-- TOC entry 4611 (class 2606 OID 33449)
-- Name: users_roles fk2o0jvgh89lemvvo17cbqvdxaa; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_roles
    ADD CONSTRAINT fk2o0jvgh89lemvvo17cbqvdxaa FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4613 (class 2606 OID 33459)
-- Name: users_todos fk96916q07qfhg8h5esbii7scmq; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_todos
    ADD CONSTRAINT fk96916q07qfhg8h5esbii7scmq FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4612 (class 2606 OID 33444)
-- Name: users_roles fkj6m8fwv7oqv74fcehir1a9ffy; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_roles
    ADD CONSTRAINT fkj6m8fwv7oqv74fcehir1a9ffy FOREIGN KEY (role_id) REFERENCES public.roles(id);


--
-- TOC entry 4614 (class 2606 OID 33454)
-- Name: users_todos fkp5gqwtb0yovy6nxp4fdy29wx1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_todos
    ADD CONSTRAINT fkp5gqwtb0yovy6nxp4fdy29wx1 FOREIGN KEY (todos_id) REFERENCES public.todo(id);


-- Completed on 2024-08-23 11:25:25

--
-- PostgreSQL database dump complete
--

